= content_for(:title, "Admin - Posts")

%div{'ng-controller'=>'indexPostCtrl',  'ng-init'=>'init()', style:"padding:30px;padding-bottom:0px;"}
  .angular
    .form-inline
      .form-group
        .input-group
          .input-group-addon
            %i.fa.fa-search
          %input#input-search{"ng-model" => "buscar.$", :placeholder => t("admin.actions.search"), :type => "text"} 
    .alert{class: 'alert-{{statusAlert}}', 'ng-show'=>"alert==true"} 
      %strong Admin:    
      {{msnAlert}}
      %button.close{"aria-hidden" => "true", "data-dismiss" => "alert", :type => "button"} &times;
    = render 'layouts/admin/messages'

    %br/
    .panel.panel-default
      .panel-heading
        = link_to new_post_path, class: "btn btn-default", title: t("admin.buttons.new") do
          %i.fa.fa-plus-circle
        %button.btn.btn-default{"ng-click" => "refresh()", :title => t("admin.buttons.refresh") }
          %i.fa.fa-refresh#icon-refresh
        %a.btn.btn-default{"ng-show" => "posts.data.length", "ng-click" => "allSelected(posts)", :title => t("admin.buttons.select_all") }
          %i.fa.fa-check-square-o
        %button#btn-delete.btn.btn-default{class: "btn-{{btnDelete}}", "ng-click" => "destroy()", :title => t("admin.buttons.trash") }
          %i.fa.fa-trash-o
        %button.btn.btn-default.pull-right.hidden-xs{'disabled'=>"", style:"color:#000"}
          Página {{page}}
        %button.btn.btn-default.pull-right{"ng-click" => "nextList();"}
          %i.fa.fa-arrow-right
        %button.btn.btn-default.pull-right{"ng-click" => "lastList();"}
          %i.fa.fa-arrow-left
      .panel-body
        %table{style: "width:100%"}
          %tbody
            %tr{ class: "select-{{post.checked}}", "ng-click" => "show(post.id)", :id => "row-{{post.id}}", "ng-repeat" => "post in posts.data | filter:buscar | interval:interval_a:interval_b "}
              %td.messages{width: "1px;"}
                %input.check{:id => "check-{{post.id}}", "ng-click" => "selected(post.id); $event.stopPorpagation();", :type => "checkbox", "ng-model" => "post.checked"}
              %td.messages {{post.title}}
              %td.messages.hidden-xs {{ post.autor }}
              %td.messages.hidden-xs {{ post.public }}
              %td.messages
                = link_to "/admin/posts/{{post.id}}", title: t('admin.actions.show') do
                  %i.fa.fa-exclamation-circle
                = link_to "/admin/posts/{{post.id}}/edit", title: t('admin.actions.edit') do
                  %i.fa.fa-edit
                = link_to "{{destroy_path(post.id)}}", title: t('admin.actions.delete'), :method => :delete, :data => { :confirm => '¿Estas seguro de querer eliminar este usuario?' } do
                  %i.fa.fa-trash-o
            %tr{"ng-show" => "!posts.data.length"}
              %td{:style => "width:100%"}
                %center
                  %i.fa.fa-frown-o
                  No hay Usuarios.

              
      .panel-footer
